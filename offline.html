<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="theme-color" content="#000000">
	<title>Paint for Browser</title>
	<link rel="icon" type="image/png" href="data:image/png;base64,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" sizes="32x32" />
	<style>*{margin:0;overflow:hidden;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}nav{background-color:#d3d3d3}nav .container{display:flex}nav .colours{display:flex;gap:5px;padding:5px}nav .colours button{padding-left:10px;padding-right:10px;border:solid 1px}nav .colours button:hover{cursor:pointer}nav .colours .red{background-color:red}nav .colours .orange{background-color:orange}nav .colours .yellow{background-color:#ff0}nav .colours .lightblue{background-color:#007aba}nav .colours .blue{background-color:#00f}nav .colours .green{background-color:#18a818}nav .colours .lightgreen{background-color:#3ae73a}nav .colours .gray{background-color:gray}nav .colours .black{background-color:#000}nav .saveas{padding-top:5px;padding-bottom:5px;padding-left:8px;padding-right:8px}nav .saveas{cursor:pointer}</style>
</head>

<body>
	<nav>
		<div class="container">
			<div class="colours">
				<button class="red" onclick="Paint.colour = 'red'">&nbsp;</button>
				<button class="orange" onclick="Paint.colour = 'orange'">&nbsp;</button>
				<button class="yellow" onclick="Paint.colour = 'yellow'">&nbsp;</button>
				<button class="lightblue" onclick="Paint.colour = 'rgb(0, 122, 186)';">&nbsp;</button>
				<button class="blue" onclick="Paint.colour = 'blue';">&nbsp;</button>
				<button class="green" onclick="Paint.colour = 'rgb(24, 168, 24)';">&nbsp;</button>
				<button class="lightgreen" onclick="Paint.colour = 'rgb(58, 231, 58)';">&nbsp;</button>
				<button class="gray" onclick="Paint.colour = 'gray';">&nbsp;</button>
				<button class="black" onclick="Paint.colour = 'black';">&nbsp;</button>
				<input type="color" value="#ff0000" oninput="Paint.colour = this.value;" />
			</div>
			<select oninput="Paint.type = this.value">
				<option value="pen">pen</option>
				<option value="rectangle">rectangle</option>
				<option value="circle">circle</option>
				<option value="oval">oval</option>
				<option value="line">line</option>
				<option value="rubber">rubber</option>
			</select>
			<input type="range" min="1" max="50" oninput="Paint.thickness = this.value;" value="1" />
			<a id="download" download="image.png">
				<button class="saveas" onclick="download()">Download Image</button>
			</a>
			<button onclick="undo()">Undo</button>
			<button onclick="redo()">Redo</button>
		</div>
	</nav>
	<canvas id="canvas">A required feature is not supported by your browser.</canvas>
</body>

<script type="text/javascript">
let canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d");canvas.width=window.innerWidth,canvas.height=window.innerHeight;let mouseX,mouseY,pmouseX,pmouseY,mouseDown=!1;if("ontouchstart"in window){function ongoingTouchIndexById(t){for(let s=0;s<ongoingTouches.length;s++)if(ongoingTouches[s].identifier===t)return s;return-1}alert("Tablet touches enabled"),canvas.addEventListener("touchstart",function(t){t.preventDefault();let s=t.changedTouches;pmouseX=mouseX,pmouseY=mouseY,mouseX=s[0].pageX,mouseY=s[0].pageY,mouseDown=!0},!1),canvas.addEventListener("touchend",function(t){t.preventDefault();let s=t.changedTouches;ongoingTouchIndexById(s[0].identifier)>=0&&(pmouseX=mouseX,pmouseY=mouseY,mouseX=s[0].pageX,mouseY=s[0].pageY),0===s.length&&(mouseDown=!1)},!1),canvas.addEventListener("touchmove",function(t){t.preventDefault();let s=t.changedTouches;pmouseX=mouseX,pmouseY=mouseY,mouseX=s[0].pageX,mouseY=s[0].pageY},!1)}canvas.addEventListener("mousemove",t=>{let s=canvas.getBoundingClientRect();pmouseX=mouseX,pmouseY=mouseY,mouseX=t.clientX-s.left,mouseY=t.clientY-s.top}),canvas.addEventListener("mousedown",t=>{mouseDown=!0}),canvas.addEventListener("mouseup",t=>{mouseDown=!1});class Point{constructor(t,s){this.x=t,this.y=s}}class RectangleObject{constructor(t,s,e,i,o,c=!0,h=0){this.x=t,this.y=s,this.width=e,this.height=i,this.colour=o,this.fill=c,this.thickness=h}render(){ctx.beginPath(),ctx.lineJoin="miter",ctx.lineCap="butt",ctx.fillStyle=this.colour,ctx.strokeStyle=this.colour,ctx.lineWidth=this.thickness,ctx.rect(this.x,this.y,this.width,this.height),this.fill&&ctx.fill(),this.thickness>0&&ctx.stroke(),ctx.closePath()}}class CircleObject{constructor(t,s,e,i,o=!0,c=0){this.x=t,this.y=s,this.radius=e,this.colour=i,this.fill=o,this.thickness=c}render(){ctx.beginPath(),ctx.fillStyle=this.colour,ctx.strokeStyle=this.colour,ctx.lineWidth=this.thickness,ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.fill&&ctx.fill(),this.thickness>0&&ctx.stroke(),ctx.closePath()}}class OvalObject{constructor(t,s,e,i,o,c=!0,h=0){this.x=t,this.y=s,this.xRadius=e,this.yRadius=i,this.colour=o,this.fill=c,this.thickness=h}render(){ctx.beginPath(),ctx.fillStyle=this.colour,ctx.strokeStyle=this.colour,ctx.lineWidth=this.thickness,ctx.ellipse(this.x,this.y,this.xRadius,this.yRadius,0,0,2*Math.PI),this.fill&&ctx.fill(),this.thickness>0&&ctx.stroke(),ctx.closePath()}}class LineObject{constructor(t,s,e,i,o,c=1){this.x1=t,this.y1=s,this.x2=e,this.y2=i,this.colour=o,this.thickness=c}render(){ctx.beginPath(),ctx.lineCap="round",ctx.strokeStyle=this.colour,ctx.lineWidth=this.thickness,ctx.moveTo(this.x1,this.y1),ctx.lineTo(this.x2,this.y2),ctx.stroke(),ctx.closePath()}}class LineGroup{constructor(t=[],s="black",e=1){this.points=t,this.colour=s,this.thickness=e}render(){ctx.beginPath(),ctx.lineJoin="round",ctx.lineCap="round",ctx.strokeStyle=this.colour,ctx.lineWidth=this.thickness,ctx.strokeStyle=this.colour,ctx.lineWidth=this.thickness,ctx.moveTo(this.points[0].x,this.points[0].y),this.points.forEach(t=>ctx.lineTo(t.x,t.y)),ctx.stroke(),ctx.closePath()}}class RubberObject{constructor(t=[],s="black",e=1){this.points=t,this.colour=s,this.thickness=e}render(){this.points.length>1&&(ctx.globalCompositeOperation="destination-out",ctx.beginPath(),ctx.strokeStyle=this.colour,ctx.lineWidth=this.thickness,ctx.lineJoin="round",ctx.lineCap="round",ctx.strokeStyle=this.colour,ctx.lineWidth=this.thickness,ctx.moveTo(this.points[0].x,this.points[0].y),this.points.forEach(t=>ctx.lineTo(t.x,t.y)),ctx.stroke(),ctx.closePath(),ctx.globalCompositeOperation="source-over")}}let Paint={objects:[],backup:[],type:"pen",colour:"black",fill:!0,thickness:1,drawing:!1,update:function(){if(this.drawing){if(mouseX!==pmouseX||mouseY!==pmouseY){switch(this.type){case"pen":this.objects[this.objects.length-1].points.push(new Point(mouseX,mouseY));break;case"rectangle":this.objects[this.objects.length-1].width=mouseX-this.objects[this.objects.length-1].x,this.objects[this.objects.length-1].height=mouseY-this.objects[this.objects.length-1].y;break;case"circle":this.objects[this.objects.length-1].radius=Math.sqrt(Math.pow(this.objects[this.objects.length-1].x-mouseX,2)+Math.pow(this.objects[this.objects.length-1].y-mouseY,2));break;case"oval":this.objects[this.objects.length-1].xRadius=Math.abs(mouseX-this.objects[this.objects.length-1].x),this.objects[this.objects.length-1].yRadius=Math.abs(mouseY-this.objects[this.objects.length-1].y);break;case"line":this.objects[this.objects.length-1].x2=mouseX,this.objects[this.objects.length-1].y2=mouseY;break;case"rubber":this.objects[this.objects.length-1].points.push(new Point(mouseX,mouseY))}this.backup=this.objects.slice(),mouseDown||(this.drawing=!1)}}else if(mouseDown){switch(this.drawing=!0,this.type){case"pen":this.objects.push(new LineGroup([new Point(mouseX,mouseY)],this.colour,this.thickness));break;case"rectangle":this.objects.push(new RectangleObject(mouseX,mouseY,0,0,this.colour,this.fill,this.thickness));break;case"circle":this.objects.push(new CircleObject(mouseX,mouseY,0,this.colour,this.fill,this.thickness));break;case"oval":this.objects.push(new OvalObject(mouseX,mouseY,0,0,this.colour,this.fill,this.thickness));break;case"line":this.objects.push(new LineObject(mouseX,mouseY,mouseX,mouseY,this.colour,this.thickness));break;case"rubber":this.objects.push(new RubberObject([new Point(mouseX,mouseY)],this.colour,this.thickness))}this.backup=this.objects.slice()}},render:function(){ctx.beginPath(),ctx.clearRect(0,0,canvas.width,canvas.height),ctx.closePath(),this.objects.forEach(t=>t.render())}};function undo(){Paint.objects.length>0&&Paint.objects.pop()}function redo(){Paint.backup.length>Paint.objects.length&&Paint.objects.push(Paint.backup[Paint.objects.length])}function download(){document.getElementById("download").href=canvas.toDataURL("image/png").replace("image/png","image/octet-stream")}function paint(){Paint.update(),Paint.render(),window.requestAnimationFrame(paint)}window.requestAnimationFrame(paint);
</script>

</html>